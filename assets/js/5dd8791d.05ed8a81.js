"use strict";(self.webpackChunkbeauty_docs=self.webpackChunkbeauty_docs||[]).push([[6659],{1687:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Getting Started/requests","title":"Create a ValidatedRequest","description":"To handle incoming input with validation, Beauty Framework provides a ValidatedRequest class that you can extend for custom logic.","source":"@site/docs/2-Getting Started/requests.md","sourceDirName":"2-Getting Started","slug":"/Getting Started/requests","permalink":"/docs/Getting Started/requests","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Define a Route and Controller","permalink":"/docs/Getting Started/controller"},"next":{"title":"Create a Custom Response (Resource)","permalink":"/docs/Getting Started/responses"}}');var a=n(4848),r=n(8453);const i={sidebar_position:2},l="Create a ValidatedRequest",o={},d=[{value:"\u2728 Generate via CLI",id:"-generate-via-cli",level:2},{value:"\ud83e\uddf1 Example Request Class",id:"-example-request-class",level:2},{value:"\u2705 Usage in Controller",id:"-usage-in-controller",level:2},{value:"\ud83d\udca1 Notes",id:"-notes",level:2}];function c(e){const t={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"create-a-validatedrequest",children:"Create a ValidatedRequest"})}),"\n",(0,a.jsxs)(t.p,{children:["To handle incoming input with validation, Beauty Framework provides a ",(0,a.jsx)(t.code,{children:"ValidatedRequest"})," class that you can extend for custom logic."]}),"\n",(0,a.jsx)(t.h2,{id:"-generate-via-cli",children:"\u2728 Generate via CLI"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"make beauty generate:request CreateUserRequest\n# Or without Docker:\n./beauty generate:request CreateUserRequest\n"})}),"\n",(0,a.jsxs)(t.p,{children:["This will generate a new request class in ",(0,a.jsx)(t.code,{children:"app/Requests"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"-example-request-class",children:"\ud83e\uddf1 Example Request Class"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"namespace App\\Requests;\n\nuse Beauty\\Http\\Request\\AbstractValidatedRequest;\n\nclass CreateUserRequest extends AbstractValidatedRequest\n{\n\n    public function rules(): array\n    {\n        return [\n            'name' => ['required', 'min:3'],\n            'email' => ['required', 'email'],\n        ];\n    }\n}\n"})}),"\n",(0,a.jsx)(t.p,{children:"Custom error messages and attribute names will be supported in a future version. This will allow for localized messages and more readable validation errors:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"protected array $messages = [\n    'name.required' => 'Name is required.',\n];\n\nprotected array $attributes = [\n    'name' => 'User name',\n];\n"})}),"\n",(0,a.jsx)(t.h2,{id:"-usage-in-controller",children:"\u2705 Usage in Controller"}),"\n",(0,a.jsx)(t.p,{children:"You can type-hint this request class directly:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"#[Route(HttpMethodsEnum::POST, '/user')]\npublic function store(CreateUserRequest $request): ResponseInterface\n{\n    $data = $request->json();\n\n    // Create user logic here...\n    return new JsonResponse(201, ['success' => true, 'data' => $data]);\n}\n"})}),"\n",(0,a.jsx)(t.h2,{id:"-notes",children:"\ud83d\udca1 Notes"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["If validation fails, a ",(0,a.jsx)(t.code,{children:"400 Bad request"})," response is automatically returned"]}),"\n",(0,a.jsxs)(t.li,{children:["You can override ",(0,a.jsx)(t.code,{children:"authorize()"})," if needed (e.g., for auth checks)"]}),"\n",(0,a.jsxs)(t.li,{children:["ValidatedRequest extends ",(0,a.jsx)(t.code,{children:"HttpRequest"}),", so all request methods are available"]}),"\n"]}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsx)(t.p,{children:"ValidatedRequest is the recommended way to keep your controllers clean and your input logic centralized."}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var s=n(6540);const a={},r=s.createContext(a);function i(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);