"use strict";(self.webpackChunkbeauty_docs=self.webpackChunkbeauty_docs||[]).push([[130],{3127:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>i});const o=JSON.parse('{"id":"Components/Modules/index","title":"Modules Support","description":"Beauty Framework is modular by design: all extra features, domain logic, and integrations are delivered as isolated modules. This approach keeps your app fast, clean, and focused\u2014only use what you need.","source":"@site/docs/5-Components/2-Modules/index.md","sourceDirName":"5-Components/2-Modules","slug":"/Components/Modules/","permalink":"/docs/Components/Modules/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Collection","permalink":"/docs/Components/Collection/"},"next":{"title":"OpenAPI Support","permalink":"/docs/Components/OpenAPI/"}}');var r=s(4848),l=s(8453);const a={},t="Modules Support",d={},i=[{value:"Installing module support",id:"installing-module-support",level:2},{value:"Generating a new module",id:"generating-a-new-module",level:2},{value:"Example",id:"example",level:4},{value:"Registering module commands",id:"registering-module-commands",level:2},{value:"Why modules?",id:"why-modules",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"modules-support",children:"Modules Support"})}),"\n",(0,r.jsx)(n.p,{children:"Beauty Framework is modular by design: all extra features, domain logic, and integrations are delivered as isolated modules. This approach keeps your app fast, clean, and focused\u2014only use what you need."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u26a0\ufe0f This is an ",(0,r.jsx)(n.strong,{children:"optional module"}),". You need to install and configure it manually."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installing-module-support",children:"Installing module support"}),"\n",(0,r.jsx)(n.p,{children:"Add module support to your app:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"make composer require beauty-framework/module-support\n# Or without Docker\ncomposer require beauty-framework/module-support\n"})}),"\n",(0,r.jsx)(n.p,{children:"This package enables first-class module generation, autoloading, and seamless integration for modular development."}),"\n",(0,r.jsxs)(n.p,{children:["The next step is to write the routing in the config ",(0,r.jsx)(n.code,{children:"config/router.php"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"{3}",children:"return [\n    'controllers' => [\n        __DIR__ . '/../modules/*/src/Controllers/**/*Controller.php',\n    ],\n];\n"})}),"\n",(0,r.jsxs)(n.p,{children:["And at the last step, in ",(0,r.jsx)(n.code,{children:"bootstrap/kernel.php"})," add"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"{2}",children:"$bootstrap = new class {\n    use \\Beauty\\Module\\Core\\HasModuleSupportTrait;\n\n    /**\n     * @return object\n     * @property array $middlewares\n     * @property ContainerManager $containerManager\n     * @property array $routerConfig\n     */\n    public function boot(): object\n    {\n    // ...\n    }\n\n    // ...\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["And in the same file, in the ",(0,r.jsx)(n.code,{children:"initContainerManager"})," method, add the following to line ",(0,r.jsx)(n.code,{children:"83"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"{3}",children:"        return ContainerManager::bootFrom(array_merge(\n            $containers,\n            $this->findModuleContainerClasses(),\n            [Config::class, Base::class, DI::class]\n        ));\n"})}),"\n",(0,r.jsx)(n.h2,{id:"generating-a-new-module",children:"Generating a new module"}),"\n",(0,r.jsx)(n.p,{children:"Beauty Framework ships with a CLI command for creating ready-to-use module scaffolding:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"make beauty generate:module <module-name>\n# Or without Docker\n./beauty generate:module <module-name>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["A new module appears at ",(0,r.jsx)(n.code,{children:"modules/<module-name>"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Standard structure in ",(0,r.jsx)(n.code,{children:"src/"})," with recommended folders:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Controllers"}),"\n",(0,r.jsx)(n.li,{children:"Services"}),"\n",(0,r.jsx)(n.li,{children:"Repositories"}),"\n",(0,r.jsx)(n.li,{children:"Middlewares"}),"\n",(0,r.jsx)(n.li,{children:"Entities"}),"\n",(0,r.jsx)(n.li,{children:"DTO"}),"\n",(0,r.jsx)(n.li,{children:"Events"}),"\n",(0,r.jsx)(n.li,{children:"Listeners"}),"\n",(0,r.jsx)(n.li,{children:"Container/DI.php (dependency bindings)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Module gets its own ",(0,r.jsx)(n.code,{children:"composer.json"})," with PSR-4 namespace (e.g. ",(0,r.jsx)(n.code,{children:"Module\\HelloWorld\\"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"The root composer.json is automatically patched with a path repository and required dependency"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"make beauty generate:module blog\n# Or without Docker\n./beauty generate:module blog\n"})}),"\n",(0,r.jsx)(n.p,{children:"Creates:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"modules/blog/\n \u251c\u2500 src/\n \u2502   \u251c\u2500 Controllers/\n \u2502   \u251c\u2500 Services/\n \u2502   \u251c\u2500 Repositories/\n \u2502   \u251c\u2500 Middlewares/\n \u2502   \u251c\u2500 Entities/\n \u2502   \u251c\u2500 DTO/\n \u2502   \u251c\u2500 Events/\n \u2502   \u251c\u2500 Listeners/\n \u2502   \u2514\u2500 Container/DI.php\n \u2514\u2500 composer.json\n"})}),"\n",(0,r.jsx)(n.h2,{id:"registering-module-commands",children:"Registering module commands"}),"\n",(0,r.jsxs)(n.p,{children:["To enable module-related CLI commands everywhere, edit your ",(0,r.jsx)(n.code,{children:"config/commands.php"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"{3}",children:"return [\n    ...\n    \\Beauty\\Module\\Console\\RegisterCommands::commands(),\n    ...\n];\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Now ",(0,r.jsx)(n.code,{children:"generate:module"})," and other module tools are always available in your CLI."]}),"\n",(0,r.jsx)(n.p,{children:"And at the last, update composer"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"make composer update\n# Or without Docker\ncomposer update\n"})}),"\n",(0,r.jsx)(n.h2,{id:"why-modules",children:"Why modules?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Keep code separated, independent, and reusable"}),"\n",(0,r.jsx)(n.li,{children:"Add/remove features with zero bloat"}),"\n",(0,r.jsx)(n.li,{children:"Compose your app from building blocks\u2014no unnecessary overhead"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["For advanced usage (custom stubs, more folders, code templates) see the ",(0,r.jsx)(n.strong,{children:"Advanced"})," section in the docs."]}),"\n",(0,r.jsxs)(n.p,{children:["If the project is new, you can install a template with preconfigured modularity using the command (",(0,r.jsx)(n.a,{href:"/docs/Installation/install",children:"Install documentaion"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"composer create-project beauty-framework/module-app my-service\n"})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var o=s(6540);const r={},l=o.createContext(r);function a(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);